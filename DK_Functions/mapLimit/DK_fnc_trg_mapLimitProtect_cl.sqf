if (!hasInterface) exitWith {};

DK_trg_condLimitMapPrtct_A = true;
DK_trg_condLimitMapPrtct_B = false;

["ntf_mapLimitProtect",[]] call bis_fnc_showNotification;
[DK_vTxt_spwnProtctWarn,-1,safezoneY + 0.615,1,0,0,DK_lyDyn_spwnProtctActNFO] spawn BIS_fnc_dynamicText;
[DK_vTxt_colorRedShadw2 + "20",-1,safezoneY + 0.675,1,0,0,0,DK_lyDyn_countSPANFO] spawn BIS_fnc_dynamicText;
playSound ["beep_Target", true];
playSound ["beep_Target", true];

[] spawn {
	uiSleep 1;
	if (DK_trg_condLimitMapPrtct_B) exitWith {};
	[DK_vTxt_spwnProtctWarn,-1,safezoneY + 0.615,1,0,0,DK_lyDyn_spwnProtctActNFO] spawn BIS_fnc_dynamicText;
	[DK_vTxt_colorRedShadw2 + "19",-1,safezoneY + 0.675,1,0,0,0,DK_lyDyn_countSPANFO] spawn BIS_fnc_dynamicText;
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];

	uiSleep 1;
	if (DK_trg_condLimitMapPrtct_B) exitWith {};
	[DK_vTxt_spwnProtctWarn,-1,safezoneY + 0.615,1,0,0,DK_lyDyn_spwnProtctActNFO] spawn BIS_fnc_dynamicText;
	[DK_vTxt_colorRedShadw2 + "18",-1,safezoneY + 0.675,1,0,0,0,DK_lyDyn_countSPANFO] spawn BIS_fnc_dynamicText;
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];

	uiSleep 1;
	if (DK_trg_condLimitMapPrtct_B) exitWith {};
	[DK_vTxt_spwnProtctWarn,-1,safezoneY + 0.615,1,0,0,DK_lyDyn_spwnProtctActNFO] spawn BIS_fnc_dynamicText;
	[DK_vTxt_colorRedShadw2 + "17",-1,safezoneY + 0.675,1,0,0,0,DK_lyDyn_countSPANFO] spawn BIS_fnc_dynamicText;
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];

	uiSleep 1;
	if (DK_trg_condLimitMapPrtct_B) exitWith {};
	[DK_vTxt_spwnProtctWarn,-1,safezoneY + 0.615,1,0,0,DK_lyDyn_spwnProtctActNFO] spawn BIS_fnc_dynamicText;
	[DK_vTxt_colorRedShadw2 + "16",-1,safezoneY + 0.675,1,0,0,0,DK_lyDyn_countSPANFO] spawn BIS_fnc_dynamicText;
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];

	uiSleep 1;
	if (DK_trg_condLimitMapPrtct_B) exitWith {};
	[DK_vTxt_spwnProtctWarn,-1,safezoneY + 0.615,1,0,0,DK_lyDyn_spwnProtctActNFO] spawn BIS_fnc_dynamicText;
	[DK_vTxt_colorRedShadw2 + "15",-1,safezoneY + 0.675,1,0,0,0,DK_lyDyn_countSPANFO] spawn BIS_fnc_dynamicText;
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];

	uiSleep 1;
	if (DK_trg_condLimitMapPrtct_B) exitWith {};
	[DK_vTxt_spwnProtctWarn,-1,safezoneY + 0.615,1,0,0,DK_lyDyn_spwnProtctActNFO] spawn BIS_fnc_dynamicText;
	[DK_vTxt_colorRedShadw2 + "14",-1,safezoneY + 0.675,1,0,0,0,DK_lyDyn_countSPANFO] spawn BIS_fnc_dynamicText;
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];

	uiSleep 1;
	if (DK_trg_condLimitMapPrtct_B) exitWith {};
	[DK_vTxt_spwnProtctWarn,-1,safezoneY + 0.615,1,0,0,DK_lyDyn_spwnProtctActNFO] spawn BIS_fnc_dynamicText;
	[DK_vTxt_colorRedShadw2 + "13",-1,safezoneY + 0.675,1,0,0,0,DK_lyDyn_countSPANFO] spawn BIS_fnc_dynamicText;
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];

	uiSleep 1;
	if (DK_trg_condLimitMapPrtct_B) exitWith {};
	[DK_vTxt_spwnProtctWarn,-1,safezoneY + 0.615,1,0,0,DK_lyDyn_spwnProtctActNFO] spawn BIS_fnc_dynamicText;
	[DK_vTxt_colorRedShadw2 + "12",-1,safezoneY + 0.675,1,0,0,0,DK_lyDyn_countSPANFO] spawn BIS_fnc_dynamicText;
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];

	uiSleep 1;
	if (DK_trg_condLimitMapPrtct_B) exitWith {};
	[DK_vTxt_spwnProtctWarn,-1,safezoneY + 0.615,1,0,0,DK_lyDyn_spwnProtctActNFO] spawn BIS_fnc_dynamicText;
	[DK_vTxt_colorRedShadw2 + "11",-1,safezoneY + 0.675,1,0,0,0,DK_lyDyn_countSPANFO] spawn BIS_fnc_dynamicText;
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];

	uiSleep 1;
	if (DK_trg_condLimitMapPrtct_B) exitWith {};
	[DK_vTxt_spwnProtctWarn,-1,safezoneY + 0.615,1,0,0,DK_lyDyn_spwnProtctActNFO] spawn BIS_fnc_dynamicText;
	[DK_vTxt_colorRedShadw2 + "10",-1,safezoneY + 0.675,1,0,0,0,DK_lyDyn_countSPANFO] spawn BIS_fnc_dynamicText;
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];

	uiSleep 1;
	if (DK_trg_condLimitMapPrtct_B) exitWith {};
	[DK_vTxt_spwnProtctWarn,-1,safezoneY + 0.615,1,0,0,DK_lyDyn_spwnProtctActNFO] spawn BIS_fnc_dynamicText;
	[DK_vTxt_colorRedShadw2 + "9",-1,safezoneY + 0.675,1,0,0,0,DK_lyDyn_countSPANFO] spawn BIS_fnc_dynamicText;
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];

	uiSleep 1;
	if (DK_trg_condLimitMapPrtct_B) exitWith {};
	[DK_vTxt_spwnProtctWarn,-1,safezoneY + 0.615,1,0,0,DK_lyDyn_spwnProtctActNFO] spawn BIS_fnc_dynamicText;
	[DK_vTxt_colorRedShadw2 + "8",-1,safezoneY + 0.675,1,0,0,0,DK_lyDyn_countSPANFO] spawn BIS_fnc_dynamicText;
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];

	uiSleep 1;
	if (DK_trg_condLimitMapPrtct_B) exitWith {};
	[DK_vTxt_spwnProtctWarn,-1,safezoneY + 0.615,1,0,0,DK_lyDyn_spwnProtctActNFO] spawn BIS_fnc_dynamicText;
	[DK_vTxt_colorRedShadw2 + "7",-1,safezoneY + 0.675,1,0,0,0,DK_lyDyn_countSPANFO] spawn BIS_fnc_dynamicText;
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];

	uiSleep 1;
	if (DK_trg_condLimitMapPrtct_B) exitWith {};
	[DK_vTxt_spwnProtctWarn,-1,safezoneY + 0.615,1,0,0,DK_lyDyn_spwnProtctActNFO] spawn BIS_fnc_dynamicText;
	[DK_vTxt_colorRedShadw2 + "6",-1,safezoneY + 0.675,1,0,0,0,DK_lyDyn_countSPANFO] spawn BIS_fnc_dynamicText;
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];

	uiSleep 1;
	if (DK_trg_condLimitMapPrtct_B) exitWith {};
	[DK_vTxt_spwnProtctWarn,-1,safezoneY + 0.615,1,0,0,DK_lyDyn_spwnProtctActNFO] spawn BIS_fnc_dynamicText;
	[DK_vTxt_colorRedShadw2 + "5",-1,safezoneY + 0.675,1,0,0,0,DK_lyDyn_countSPANFO] spawn BIS_fnc_dynamicText;
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];

	uiSleep 1;
	if (DK_trg_condLimitMapPrtct_B) exitWith {};
	[DK_vTxt_spwnProtctWarn,-1,safezoneY + 0.615,1,0,0,DK_lyDyn_spwnProtctActNFO] spawn BIS_fnc_dynamicText;
	[DK_vTxt_colorRedShadw2 + "4",-1,safezoneY + 0.675,1,0,0,0,DK_lyDyn_countSPANFO] spawn BIS_fnc_dynamicText;
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];

	uiSleep 1;
	if (DK_trg_condLimitMapPrtct_B) exitWith {};
	[DK_vTxt_spwnProtctWarn,-1,safezoneY + 0.615,1,0,0,DK_lyDyn_spwnProtctActNFO] spawn BIS_fnc_dynamicText;
	[DK_vTxt_colorRedShadw2 + "3",-1,safezoneY + 0.675,1,0,0,0,DK_lyDyn_countSPANFO] spawn BIS_fnc_dynamicText;
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];

	uiSleep 1;
	if (DK_trg_condLimitMapPrtct_B) exitWith {};
	[DK_vTxt_spwnProtctWarn,-1,safezoneY + 0.615,1,0,0,DK_lyDyn_spwnProtctActNFO] spawn BIS_fnc_dynamicText;
	[DK_vTxt_colorRedShadw2 + "2",-1,safezoneY + 0.675,1,0,0,0,DK_lyDyn_countSPANFO] spawn BIS_fnc_dynamicText;
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];

	uiSleep 1;
	if (DK_trg_condLimitMapPrtct_B) exitWith {};
	[DK_vTxt_spwnProtctWarn,-1,safezoneY + 0.615,1,0,0,DK_lyDyn_spwnProtctActNFO] spawn BIS_fnc_dynamicText;
	[DK_vTxt_colorRedShadw2 + "1",-1,safezoneY + 0.675,1,0,0,0,DK_lyDyn_countSPANFO] spawn BIS_fnc_dynamicText;
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];
	playSound ["beep_Target", true];

	uiSleep 1;
	DK_lyDyn_spwnProtctActNFO cutText ["","PLAIN",0];
	DK_lyDyn_countSPANFO cutText ["","PLAIN",0];

	if (DK_trg_condLimitMapPrtct_B) exitWith {};
	if (DK_trg_condLimitMapPrtct_A) then{
		_veh = vehicle player;
		{
			_x setDamage 1;
			objectParent _veh deleteVehicleCrew _x;
		} forEach (crew _veh);
		uiSleep 5;
		if (_veh inArea "DK_MTW_mkr_limitMap_1") then{
			deleteVehicle _veh;
		};
	};
};

[] spawn{
	waitUntil{
		!(player inArea "DK_MTW_mkr_limitMap_1") OR !(alive player)
	};
	private _player = player;
	_player remoteExecCall ["DK_fnc_SP_setVarT", 2];
	//[_player,["DK_spawnProtectOn",true]] remoteExecCall ["setVariable",2];

	DK_trg_condLimitMapPrtct_A = false;
	DK_trg_condLimitMapPrtct_B = true;
};
